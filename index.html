<!DOCTYPE html>
<html lang="en">
    <head>
	
		<!-- Yandex.Metrika counter -->
		<script type="text/javascript" >
		(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
		m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
		(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
		
		ym(68405578, "init", {
				clickmap:true,
				trackLinks:true,
				accurateTrackBounce:true
		});
		</script>
		<noscript><div><img src="https://mc.yandex.ru/watch/68405578" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
		<!-- /Yandex.Metrika counter -->
	
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title></title>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.datatables.net/1.10.9/css/dataTables.bootstrap.min.css">
        <style type="text/css">
            #main {
              padding-top: 15px;
            }
            #csv-table_wrapper table.table-bordered {  
                border: none;
                margin-top: 0 !important;
            }

            div.dataTables_wrapper div.dataTables_length select {
              width: inherit;
              display: inherit;
            }

            div.dataTables_wrapper div.dataTables_filter input {
              width: inherit;
              display: inherit;
            }

            .dataTables_wrapper .form-group {
                margin-bottom: 0;
            }

            .dataTables_wrapper div.dataTables_info {
              padding-top: 4px !important;
            }

            .dataTables_paginate a {
                margin: 0 2px;
            }
        </style>
    </head>
    <body>
        <div id="main" class="container-fluid">
            <div class="row">
                <div class="col-md-12">
					<div id="models" class="alert alert-info lead text-center">
						Данные собранные из открытого источника: с сайта <a href="http://sklad.lada-direct.ru/" target="_blank">http://sklad.lada-direct.ru/</a> для удобного поиска автомобиля Lada в требуемых комплектации/цвете в наличии у всех официальных дилеров.
						<br/>
						<br/>
						<!--Vesta-->
						Vesta:
						<a href="#vesta_sedan.csv" onclick="setTimeout(location.reload.bind(location), 1)">Седан</a> / 
						<a href="#vesta_cross.csv" onclick="setTimeout(location.reload.bind(location), 1)">Cross</a> / 
						<a href="#vesta_sw.csv" onclick="setTimeout(location.reload.bind(location), 1)">SW</a> / 
						<a href="#vesta_sw_cross.csv" onclick="setTimeout(location.reload.bind(location), 1)">SW Cross</a> / 
						<a href="#vesta_cng.csv" onclick="setTimeout(location.reload.bind(location), 1)">CNG</a> / 
						<a href="#vesta_sport.csv" onclick="setTimeout(location.reload.bind(location), 1)">Sport</a>
						<br/>
						<!--Granta-->
						Granta:
						<a href="#granta_sedan.csv" onclick="setTimeout(location.reload.bind(location), 1)">Седан</a> / 
						<a href="#granta_liftback.csv" onclick="setTimeout(location.reload.bind(location), 1)">Лифтбек</a> / 
						<a href="#granta_hatchback.csv" onclick="setTimeout(location.reload.bind(location), 1)">Хэтчбек</a> / 
						<a href="#granta_universal.csv" onclick="setTimeout(location.reload.bind(location), 1)">Универсал</a> / 
						<a href="#granta_cross.csv" onclick="setTimeout(location.reload.bind(location), 1)">Cross</a> / 
						<a href="#granta_school.csv" onclick="setTimeout(location.reload.bind(location), 1)">Учебная</a> / 
						<a href="#granta_drive_active.csv" onclick="setTimeout(location.reload.bind(location), 1)">Drive Active</a>
						<br/>
						<!--XRAY-->
						XRAY:
						<a href="#xray_hatchback.csv" onclick="setTimeout(location.reload.bind(location), 1)">XRAY</a> / 
						<a href="#xray_cross.csv" onclick="setTimeout(location.reload.bind(location), 1)">XRAY Cross</a>
						<br/>
						<!--Largus-->
						Largus:
						<a href="#largus_universal.csv" onclick="setTimeout(location.reload.bind(location), 1)">Универсал</a> / 
						<a href="#largus_cross.csv" onclick="setTimeout(location.reload.bind(location), 1)">Cross</a> / 
						<a href="#largus_furgon.csv" onclick="setTimeout(location.reload.bind(location), 1)">Фургон</a> / 
						<a href="#largus_furgon_cng.csv" onclick="setTimeout(location.reload.bind(location), 1)">Фургон CNG</a>
						<br/>
						<!--Niva-->
						Niva:
						<a href="#niva_standard.csv" onclick="setTimeout(location.reload.bind(location), 1)">Niva</a> / 
						<a href="#niva_offroad.csv" onclick="setTimeout(location.reload.bind(location), 1)">Off-road</a>
						<br/>
						<!--4x4-->
						4x4:
						<a href="#n4x4_3doors.csv" onclick="setTimeout(location.reload.bind(location), 1)">4x4 3 дв.</a> / 
						<a href="#n4x4_3doors_urban.csv" onclick="setTimeout(location.reload.bind(location), 1)">4x4 Urban 3 дв.</a> / 
						<a href="#n4x4_5doors.csv" onclick="setTimeout(location.reload.bind(location), 1)">4x4 5 дв.</a> / 
						<a href="#n4x4_5doors_urban.csv" onclick="setTimeout(location.reload.bind(location), 1)">4x4 Urban 5 дв.</a>
						<br/>
						<br/>
						Обновлено: 2020-11-19
						<br/>
					</div>
                    <div id="loading" class="alert alert-info lead text-center">Loading csv file ...</div>
                    <div id="error" class="alert alert-danger lead text-center hidden"></div>
                    <table id="csv-table" class="table table-bordered table-striped table-condensed"></table>
					© <a href="https://github.com/kafeg" target="_blank">https://github.com/kafeg</a>. Viewer based on <a href="https://github.com/wincelau/html-csv-viewer">https://github.com/wincelau/html-csv-viewer</a>
					<br/>
					
					<!-- Yandex.Metrika informer -->
					<a href="https://metrika.yandex.ru/stat/?id=68405578&amp;from=informer"
					target="_blank" rel="nofollow"><img src="https://informer.yandex.ru/informer/68405578/3_1_FFFFFFFF_EFEFEFFF_0_pageviews"
					style="width:88px; height:31px; border:0;" alt="Яндекс.Метрика" title="Яндекс.Метрика: данные за сегодня (просмотры, визиты и уникальные посетители)" class="ym-advanced-informer" data-cid="68405578" data-lang="ru" /></a>
					<!-- /Yandex.Metrika informer -->
                </div>
            </div>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.1.2/papaparse.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.9/js/jquery.dataTables.min.js"></script>

        <script type="text/javascript">
            $(document).on('ready', function() {
                var showError = function(message) {
                    hideLoading();
                    if(!message || typeof message !== 'string' || !message instanceof String) {
                        message = "Une erreur est survenue";
                    }
                    $('#error').removeClass('hidden');
                    $('#error').html(message);
                }

                var hideLoading = function() {
                   $('#loading').hide();
                }

                var uriCsvFile = window.location.hash.replace("#", "");
                if(!uriCsvFile) {
                    uriCsvFile = window.location.pathname.replace(/.*\/(.+.csv).html$/, '$1');
                    if(window.location.pathname == uriCsvFile) {
                        uriCsvFile = false;
                    }              
                }

                if(!uriCsvFile) {
                    showError("CSV File not specified or not found");
                    return;
                }

                document.title = uriCsvFile;

                $('#loading').html("Loading csv file : " + uriCsvFile);

                var data = Papa.parse(uriCsvFile, {
                    download: true,
                    skipEmptyLines: true,
                    header: true,
                    error: function(err, file, inputElem, reason)
                    { 
                        showError(err);
                    },
                    complete: function(data)
                    {
                        console.log("loaded");
                        if(data.errors.length > 0) {
                            showError("File contains error, is maybe not a csv file");
                            return;
                        }
                        var columns = [];
                        for(key in data.meta.fields) {
                          columns.push({ data: data.meta.fields[key], title: data.meta.fields[key] });
                        }
                        
                        var table = $('#csv-table').DataTable({
                            data: data.data,
                            columns: columns,
                            scrollY: true,
                            scrollX: true,
                            scrollCollapse: true,
                            searching: true,
                            paging: true,
                            ordering: true,
                            lengthMenu: [[250, 500, 1000], [250, 500, 1000]],
                            language: {
                                "info": "_START_ to _END_ (_TOTAL_ lines)",
                            },
                            initComplete: function() {
                                hideLoading();
                                $('#csv-table_wrapper').addClass('panel panel-default');
                                $('#csv-table_wrapper').prepend('<div class="panel-heading"></div>');
                                $('#csv-table_wrapper .panel-heading').append($('#csv-table_wrapper #csv-table_length').detach());
                                $('#csv-table_wrapper .panel-heading').append($('#csv-table_wrapper #csv-table_filter').detach());
                                $('#csv-table_wrapper .panel-heading').append("<div class='col-sm-3 col-md-3 text-right text-muted dataTables_title'><a href='"+uriCsvFile+"' target='_blank'>"+uriCsvFile+"</a></div>");
                                $('#csv-table_wrapper .panel-heading').append("<div class='clearfix'></div>");
                                $('#csv-table_length').addClass('form-group row col-sm-3 col-md-1');
                                $('#csv-table_length').html($('<div class="col-xs-12 row"></div>').append($('#csv-table_length select').detach()));
                                $('#csv-table_length select').addClass('form-control input-sm');
                                $('#csv-table_filter').addClass('form-group row col-sm-6 col-md-8');
                                $('#csv-table_filter').html($('<div class="col-xs-12 row"></div>').append($('#csv-table_filter input').detach()));
                                $('#csv-table_filter input').addClass('form-control input-sm');
                                $('#csv-table_filter input').attr('placeholder', 'Rechercher ...');
                                $('#csv-table_wrapper').append('<div class="panel-footer"></div>');
                                $('#csv-table_wrapper .panel-footer').append($('#csv-table_wrapper #csv-table_info').detach());
                                $('#csv-table_wrapper .panel-footer').append($('#csv-table_wrapper #csv-table_paginate').detach());
                                $('#csv-table_wrapper .panel-footer').append("<div class='clearfix'></div>");
                                $('#csv-table_info').addClass('row col-xs-5 text-muted');
                                $('#csv-table_paginate').addClass('row col-xs-7');
                            },
                            drawCallback: function() {
                              $('#csv-table_paginate a').addClass('btn btn-default');
                              $('#csv-table_paginate a.current').addClass('btn-primary');
                            }
                        });

                        $('#loading').hide();  
                    }
                });
            });
        </script>
    </body>
</html>